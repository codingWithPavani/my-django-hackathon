{% extends "attendance/base.html" %}
{% load static %}

{% block content %}
<h2>Teacher Dashboard</h2>
<div class="mb-3">
  <label>Date</label>
  <input type="date" id="att-date" class="form-control" value="{{ today|default:None }}">
</div>

<form id="attendance-form">
  <table class="table">
    <thead><tr><th>Roll</th><th>Name</th><th>Present</th><th>Absent</th></tr></thead>
    <tbody>
      {% for s in students %}
      <tr data-student-id="{{ s.id }}">
        <td>{{ s.roll_number }}</td>
        <td>{{ s.user.get_full_name|default:s.user.username }}</td>
        <td><input type="radio" name="att-{{ s.id }}" value="Present" checked></td>
        <td><input type="radio" name="att-{{ s.id }}" value="Absent"></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  <button type="button" id="submit-att" class="btn btn-primary">Submit Attendance</button>
</form>

<script src="{% static 'attendance/js/attendance.js' %}"></script>
{% endblock %}
